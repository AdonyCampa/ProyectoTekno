"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[479],{2479:($,g,n)=>{n.r(g),n.d(g,{RequisitosModule:()=>O});var p=n(6814),_=n(9140),m=n(5219),t=n(9291),T=n(469),c=n(6361),q=n(707),a=n(6223),f=n(4480),h=n(4104),b=n(6340),R=n(3714),x=n(6218),C=n(7213),Z=n(2655);function A(e,r){if(1&e&&t._UZ(0,"p-breadcrumb",19),2&e){const i=t.oxw();t.Q6J("model",i.items)("home",i.home)}}function M(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.openNew())}),t.qZA()}}function D(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",21)(1,"h5",22),t._uU(2," Requisitos de contratacion registrados "),t.qZA(),t.TgZ(3,"span",23),t._UZ(4,"i",24),t.TgZ(5,"input",25),t.NdJ("input",function(o){t.CHM(i);const l=t.oxw(),u=t.MAs(8);return t.KtG(l.onGlobalFilter(u,o))}),t.qZA()()()}}function y(e,r){1&e&&(t.TgZ(0,"tr")(1,"th",26),t._uU(2," ID "),t._UZ(3,"p-sortIcon",27),t.qZA(),t.TgZ(4,"th",28),t._uU(5," Requisito de documento "),t._UZ(6,"p-sortIcon",29),t.qZA(),t.TgZ(7,"th",30),t._uU(8," Descripcion "),t._UZ(9,"p-sortIcon",31),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Acciones"),t.qZA()())}function J(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"tr")(1,"td",32)(2,"span",33),t._uU(3,"Id"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td",32)(6,"span",33),t._uU(7,"requisito de documento"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"td",34)(10,"span",33),t._uU(11,"Descripcion"),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"div",35)(15,"button",36),t.NdJ("click",function(){const l=t.CHM(i).$implicit,u=t.oxw();return t.KtG(u.editRequisito(l))}),t.qZA(),t.TgZ(16,"button",37),t.NdJ("click",function(){const l=t.CHM(i).$implicit,u=t.oxw();return t.KtG(u.deleteRequisito(l))}),t.qZA()()()()}if(2&e){const i=r.$implicit;t.xp6(4),t.hij(" ",i.id," "),t.xp6(4),t.hij(" ",i.nombre," "),t.xp6(4),t.hij(" ",i.descripcion," ")}}function N(e,r){1&e&&(t.TgZ(0,"small",44),t._uU(1,"Requisito de contratacion es requerido."),t.qZA())}const v=function(e){return{"ng-invalid ng-dirty":e}};function w(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",38)(1,"label",39),t._uU(2,"Requisito de contratacion"),t.qZA(),t.TgZ(3,"input",40),t.NdJ("ngModelChange",function(o){t.CHM(i);const l=t.oxw();return t.KtG(l.requisito.nombre=o)}),t.qZA(),t.YNc(4,N,2,0,"small",41),t.qZA(),t.TgZ(5,"div",38)(6,"label",42),t._uU(7,"Descripcion"),t.qZA(),t.TgZ(8,"textarea",43),t.NdJ("ngModelChange",function(o){t.CHM(i);const l=t.oxw();return t.KtG(l.requisito.descripcion=o)}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(3),t.Q6J("ngModel",i.requisito.nombre)("ngClass",t.VKq(5,v,i.submitted&&!i.requisito.nombre)),t.xp6(1),t.Q6J("ngIf",i.submitted&&!i.requisito.nombre),t.xp6(4),t.Q6J("ngModel",i.requisito.descripcion)("autoResize",!0)}}function U(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.hideDialog())}),t.qZA(),t.TgZ(1,"button",46),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.saveRequisito())}),t.qZA()}}function E(e,r){1&e&&(t.TgZ(0,"small",44),t._uU(1,"Requisito de contratacion es requerido."),t.qZA())}function F(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",38)(1,"label",39),t._uU(2,"Requisito de contratacion"),t.qZA(),t.TgZ(3,"input",40),t.NdJ("ngModelChange",function(o){t.CHM(i);const l=t.oxw();return t.KtG(l.requisito.nombre=o)}),t.qZA(),t.YNc(4,E,2,0,"small",41),t.qZA(),t.TgZ(5,"div",38)(6,"label",42),t._uU(7,"Descripcion"),t.qZA(),t.TgZ(8,"textarea",43),t.NdJ("ngModelChange",function(o){t.CHM(i);const l=t.oxw();return t.KtG(l.requisito.descripcion=o)}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(3),t.Q6J("ngModel",i.requisito.nombre)("ngClass",t.VKq(5,v,i.submitted&&!i.requisito.nombre)),t.xp6(1),t.Q6J("ngIf",i.submitted&&!i.requisito.nombre),t.xp6(4),t.Q6J("ngModel",i.requisito.descripcion)("autoResize",!0)}}function S(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.hideEditDialog())}),t.qZA(),t.TgZ(1,"button",46),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.editBodyRequisito())}),t.qZA()}}function G(e,r){if(1&e&&(t.TgZ(0,"span"),t._uU(1,"Are you sure you want to delete "),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4,"?"),t.qZA()),2&e){const i=t.oxw();t.xp6(3),t.hij(" ",i.requisito.nombre," ")}}function H(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.deleteRequisitoDialog=!1)}),t.qZA(),t.TgZ(1,"button",48),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.confirmDelete())}),t.qZA()}}const K=function(){return["id","nombre","descripcion"]},k=function(){return[10,20,30]},d=function(){return{width:"450px"}};let Y=(()=>{var e;class r{constructor(s,o){this.requisitosService=s,this.messageService=o,this.requisitoDialog=!1,this.requisitoEditDialog=!1,this.requisitoPasswordDialog=!1,this.deleteRequisitoDialog=!1,this.deleteRequisitosDialog=!1,this.requisitos=[],this.requisito={},this.submitted=!1,this.cols=[],this.roles=[],this.estados=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.getRequisitos(),this.suscription=this.requisitosService.refresh$.subscribe(()=>this.getRequisitos()),this.items=[{label:"Ajustes"},{label:"Mantenimientos"},{label:"Documentos"},{label:"Requisitos"}],this.home={icon:"pi pi-home",routerLink:"/inicio"},this.cols=[{field:"id",header:"Id"},{field:"nombre",header:"Requisito"},{field:"descripcion",header:"Descripcion"}]}getRequisitos(){this.requisitosService.getRequisitos().then(s=>this.requisitos=s)}ngOnDestroy(){this.suscription.unsubscribe()}openNew(){this.requisito={},this.submitted=!1,this.requisitoDialog=!0}editRequisito(s){this.requisito={...s},this.requisitoEditDialog=!0}deleteRequisito(s){this.deleteRequisitoDialog=!0,this.requisito={...s}}confirmDelete(){const{id:s}=this.requisito;this.deleteRequisitoDialog=!1,this.requisitosService.deleteRequisito(s).subscribe(o=>{this.messageService.add(!0===o?{severity:"success",summary:"Exito",detail:"Requisito eliminado exitosamente",life:3e3}:{severity:"error",summary:"Error",detail:o,life:3e3})}),this.deleteRequisitoDialog=!1,this.requisito={}}hideDialog(){this.requisitoDialog=!1,this.submitted=!1}hideEditDialog(){this.requisitoEditDialog=!1,this.submitted=!1}saveRequisito(){this.submitted=!0;const{nombre:s,descripcion:o}=this.requisito;this.requisito.nombre?.trim()&&(this.requisitosService.createRequisito(s,o).subscribe(l=>{!0===l?(this.messageService.add({severity:"success",summary:"Exito",detail:"Requisito creado exitosamente",life:3e3}),this.requisitoDialog=!1,this.requisito={}):this.messageService.add({severity:"error",summary:"Error",detail:l,life:3e3})}),this.requisitos=[...this.requisitos])}editBodyRequisito(){this.submitted=!0;const{id:s,nombre:o,descripcion:l}=this.requisito;this.requisito.nombre?.trim()&&(this.requisitosService.updateRequisito(s,o,l).subscribe(u=>{!0===u?(this.messageService.add({severity:"success",summary:"Exito",detail:"Requisito actualizad0 exitosamente",life:3e3}),this.requisitoEditDialog=!1,this.requisito={}):this.messageService.add({severity:"error",summary:"Error",detail:u,life:3e3})}),this.requisitos=[...this.requisitos])}onGlobalFilter(s,o){s.filterGlobal(o.target.value,"contains")}}return(e=r).\u0275fac=function(s){return new(s||e)(t.Y36(T.i),t.Y36(m.ez))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],features:[t._Bn([m.ez])],decls:23,vars:26,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Crear nuevo requisito de dcontratacion",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Editar requisito de contratacion",1,"p-fluid",3,"visible","modal","visibleChange"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"max-w-full",3,"model","home"],["pButton","","pRipple","","label","Crear Requisito","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","id"],["field","id"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","descripcion"],["field","descripcion"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","8rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","nombre","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","descripcion"],["id","descripcion","pInputTextarea","","required","","autofocus","","cols","20","rows","3",3,"ngModel","autoResize","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"p-toast"),t.TgZ(4,"p-toolbar",3),t.YNc(5,A,1,2,"ng-template",4),t.YNc(6,M,1,0,"ng-template",5),t.qZA(),t.TgZ(7,"p-table",6,7),t.YNc(9,D,6,0,"ng-template",8),t.YNc(10,y,12,0,"ng-template",9),t.YNc(11,J,17,3,"ng-template",10),t.qZA()(),t.TgZ(12,"p-dialog",11),t.NdJ("visibleChange",function(u){return o.requisitoDialog=u}),t.YNc(13,w,9,7,"ng-template",12),t.YNc(14,U,2,0,"ng-template",13),t.qZA(),t.TgZ(15,"p-dialog",14),t.NdJ("visibleChange",function(u){return o.requisitoEditDialog=u}),t.YNc(16,F,9,7,"ng-template",12),t.YNc(17,S,2,0,"ng-template",13),t.qZA(),t.TgZ(18,"p-dialog",15),t.NdJ("visibleChange",function(u){return o.deleteRequisitoDialog=u}),t.TgZ(19,"div",16),t._UZ(20,"i",17),t.YNc(21,G,5,1,"span",18),t.qZA(),t.YNc(22,H,2,0,"ng-template",13),t.qZA()()()),2&s&&(t.xp6(7),t.Q6J("value",o.requisitos)("columns",o.cols)("rows",10)("globalFilterFields",t.DdM(21,K))("paginator",!0)("rowsPerPageOptions",t.DdM(22,k))("showCurrentPageReport",!0)("rowHover",!0),t.xp6(5),t.Akn(t.DdM(23,d)),t.Q6J("visible",o.requisitoDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(24,d)),t.Q6J("visible",o.requisitoEditDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(25,d)),t.Q6J("visible",o.deleteRequisitoDialog)("modal",!0),t.xp6(3),t.Q6J("ngIf",o.requisito))},dependencies:[p.mk,p.O5,c.iA,m.jx,c.lQ,c.fz,q.Hq,a.Fj,a.JJ,a.Q7,a.On,f.H,h.FN,b.o,R.o,x.g,C.V,Z.a],encapsulation:2}),r})(),B=(()=>{var e;class r{}return(e=r).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.Bz.forChild([{path:"",component:Y}]),_.Bz]}),r})();var I=n(5006),Q=n(6022),j=n(3965),z=n(1865),P=n(354);let O=(()=>{var e;class r{}return(e=r).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,B,c.U$,I.O,a.u5,q.hJ,f.T,h.EV,b.V,Q.Xt,R.j,x.A,j.kW,z.cc,P.L$,C.S,Z.w]}),r})()}}]);