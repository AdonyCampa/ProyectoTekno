"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[130],{380:(Ue,q,r)=>{r.r(q),r.d(q,{ArchivosModule:()=>qe});var m=r(6814),U=r(9140),Z=r(5219),e=r(9291),F=r(1267),G=r(8645),C=r(2096),x=r(9397),T=r(7398),b=r(6306),H=r(553),R=r(9862);let L=(()=>{var i;class c{constructor(n){this.http=n,this.baseURL=H.N.baseURL,this._refresh$=new G.x}get refresh$(){return this._refresh$}getArchivos(){return this.http.get(`${this.baseURL}/archivos/`).toPromise().then(o=>o).then(o=>o)}createArchivo(n,o,a,s,h,_,g){return this.http.post(`${this.baseURL}/archivos/new/`,{asunto:n,estado:o,id_tipo:a,cod_ref:s,fecha:h,fecha_recepcion:_,descripcion:g}).pipe((0,x.b)(d=>{d.ok&&(this._refresh$.next(),console.log(d.msg))}),(0,T.U)(d=>d.ok),(0,b.K)(d=>(0,C.of)(d.error.msg)))}updateArchivo(n,o,a,s,h,_,g,p){return this.http.put(`${this.baseURL}/archivos/editar/${n}`,{id:n,asunto:o,estado:a,id_tipo:s,cod_ref:h,fecha:_,fecha_recepcion:g,descripcion:p}).pipe((0,x.b)(v=>{v.ok&&(this._refresh$.next(),console.log(v.msg))}),(0,T.U)(v=>v.ok),(0,b.K)(v=>(0,C.of)(v.error.msg)))}deleteArchivo(n){return this.http.delete(`${this.baseURL}/archivos/eliminar/${n}`).pipe((0,x.b)(a=>{a.ok&&(this._refresh$.next(),console.log(a.msg))}),(0,T.U)(a=>a.ok),(0,b.K)(a=>(0,C.of)(a.error.msg)))}}return(i=c).\u0275fac=function(n){return new(n||i)(e.LFG(R.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),c})();var f=r(6361),J=r(707),A=r(6223),w=r(4480),N=r(4104),y=r(6340),D=r(3714),I=r(6218),E=r(3965),K=r(7213),S=r(2655),Q=r(6263),Y=r(1532);function $(i,c){if(1&i&&e._UZ(0,"p-breadcrumb",19),2&i){const t=e.oxw();e.Q6J("model",t.items)("home",t.home)}}function V(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openNew())}),e.qZA()}}function j(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"h5",22),e._uU(2," Archivos recibidos y enviados registrados "),e.qZA(),e.TgZ(3,"span",23),e._UZ(4,"i",24),e.TgZ(5,"input",25),e.NdJ("input",function(o){e.CHM(t);const a=e.oxw(),s=e.MAs(8);return e.KtG(a.onGlobalFilter(s,o))}),e.qZA()()()}}function B(i,c){if(1&i&&e._UZ(0,"p-tag",52),2&i){const t=c.$implicit,n=e.oxw(3);e.Q6J("value",t.label)("severity",n.getSeverity(t.value))}}function k(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"p-dropdown",50),e.NdJ("onChange",function(o){const s=e.CHM(t).filterCallback;return e.KtG(s(o.value))}),e.YNc(1,B,1,2,"ng-template",51),e.qZA()}if(2&i){const t=c.$implicit,n=e.oxw(2);e.Q6J("ngModel",t)("options",n.estados)("showClear",!0)}}function z(i,c){if(1&i&&(e.TgZ(0,"span",54),e._uU(1),e.qZA()),2&i){const t=c.$implicit;e.xp6(1),e.Oqu(t.tipo.toUpperCase())}}function O(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"p-dropdown",53),e.NdJ("onChange",function(o){const s=e.CHM(t).filterCallback;return e.KtG(s(o.value))}),e.YNc(1,z,2,1,"ng-template",51),e.qZA()}if(2&i){const t=c.$implicit,n=e.oxw(2);e.Q6J("ngModel",t)("options",n.tiposDocs)}}function P(i,c){1&i&&(e.TgZ(0,"tr")(1,"th",26),e._uU(2," ID "),e._UZ(3,"p-sortIcon",27),e.qZA(),e.TgZ(4,"th",28),e._uU(5," Asunto "),e._UZ(6,"p-sortIcon",29),e.qZA(),e.TgZ(7,"th",30),e._uU(8," Estado "),e._UZ(9,"p-sortIcon",31),e.qZA(),e.TgZ(10,"th",32),e._uU(11," Tipo de documento "),e._UZ(12,"p-sortIcon",33),e.qZA(),e.TgZ(13,"th",34),e._uU(14," Codigo de Referencia "),e._UZ(15,"p-sortIcon",35),e.qZA(),e.TgZ(16,"th",36),e._uU(17," De Fecha "),e._UZ(18,"p-sortIcon",37),e.qZA(),e.TgZ(19,"th",38),e._uU(20," Fecha de Recepcion "),e._UZ(21,"p-sortIcon",39),e.qZA(),e.TgZ(22,"th",40),e._uU(23," Descripcion "),e._UZ(24,"p-sortIcon",41),e.qZA(),e.TgZ(25,"th",42),e._uU(26,"Acciones"),e.qZA()(),e.TgZ(27,"tr"),e._UZ(28,"th"),e.TgZ(29,"th"),e._UZ(30,"p-columnFilter",43),e.qZA(),e.TgZ(31,"th")(32,"p-columnFilter",44),e.YNc(33,k,2,3,"ng-template",45),e.qZA()(),e.TgZ(34,"th")(35,"p-columnFilter",46),e.YNc(36,O,2,2,"ng-template",45),e.qZA()(),e.TgZ(37,"th"),e._UZ(38,"p-columnFilter",47),e.qZA(),e.TgZ(39,"th"),e._UZ(40,"p-columnFilter",48),e.qZA(),e.TgZ(41,"th"),e._UZ(42,"p-columnFilter",49),e.qZA(),e._UZ(43,"th")(44,"th"),e.qZA()),2&i&&(e.xp6(32),e.Q6J("showMenu",!1),e.xp6(3),e.Q6J("showMenu",!1))}function W(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",55)(2,"span",56),e._uU(3,"Id"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",57)(6,"span",56),e._uU(7,"Asunto"),e.qZA(),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"td",57)(11,"span",56),e._uU(12,"Estado"),e.qZA(),e._UZ(13,"p-tag",52),e.qZA(),e.TgZ(14,"td",57)(15,"span",56),e._uU(16,"Tipo de decumento"),e.qZA(),e._uU(17),e.ALo(18,"titlecase"),e.qZA(),e.TgZ(19,"td",57)(20,"span",56),e._uU(21,"Codigo de referencia"),e.qZA(),e._uU(22),e.ALo(23,"uppercase"),e.qZA(),e.TgZ(24,"td",57)(25,"span",56),e._uU(26,"De Fecha"),e.qZA(),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"td",57)(30,"span",56),e._uU(31,"Fecha Recepcion"),e.qZA(),e._uU(32),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"td",58)(35,"span",56),e._uU(36,"Descripcion"),e.qZA(),e._uU(37),e.ALo(38,"titlecase"),e.qZA(),e.TgZ(39,"td")(40,"div",59)(41,"button",60),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editArchivo(a))}),e.qZA(),e.TgZ(42,"button",61),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteArchivo(a))}),e.qZA()()()()}if(2&i){const t=c.$implicit,n=e.oxw();e.xp6(4),e.hij(" ",t.id," "),e.xp6(4),e.hij(" ",e.lcZ(9,9,t.asunto)," "),e.xp6(5),e.Q6J("value",t.estado.toUpperCase())("severity",n.getSeverity(t.estado)),e.xp6(4),e.hij(" ",e.lcZ(18,11,t.tipo)," "),e.xp6(5),e.hij(" ",e.lcZ(23,13,t.cod_ref)," "),e.xp6(5),e.hij(" ",e.xi3(28,15,t.fecha,"dd/MM/YYYY")," "),e.xp6(5),e.hij(" ",e.xi3(33,18,t.fecha_recepcion,"dd/MM/YYYY")," "),e.xp6(5),e.hij(" ",e.lcZ(38,21,t.descripcion)," ")}}function X(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"El asunto es requerido."),e.qZA())}function ee(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"El estado de documento es requerido"),e.qZA())}function te(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"El tipo de documento es requerido"),e.qZA())}function oe(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"Codigo de referencia es requerido."),e.qZA())}function ie(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"La fecha es requerida."),e.qZA())}function ne(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"La fecha de recepcion es requerida."),e.qZA())}const l=function(i){return{"ng-invalid ng-dirty":i}};function ae(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"label",63),e._uU(2,"Ingresar asunto"),e.qZA(),e.TgZ(3,"input",64),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.asunto=o)}),e.qZA(),e.YNc(4,X,2,0,"small",65),e.qZA(),e.TgZ(5,"div",62)(6,"label",66),e._uU(7,"Seleccionar tipo de documento"),e.qZA(),e.TgZ(8,"p-dropdown",67),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.estado=o)}),e.qZA(),e.YNc(9,ee,2,0,"small",65),e.qZA(),e.TgZ(10,"div",62)(11,"label",66),e._uU(12,"Seleccionar tipo de documento"),e.qZA(),e.TgZ(13,"p-dropdown",68),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.id_tipo=o)}),e.qZA(),e.YNc(14,te,2,0,"small",65),e.qZA(),e.TgZ(15,"div",62)(16,"label",69),e._uU(17,"Ingresar codigo de referencia"),e.qZA(),e.TgZ(18,"input",70),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.cod_ref=o)}),e.qZA(),e.YNc(19,oe,2,0,"small",65),e.qZA(),e.TgZ(20,"div",62)(21,"label",71),e._uU(22,"Ingresar fecha del archivo"),e.qZA(),e.TgZ(23,"p-calendar",72),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.fecha=o)}),e.qZA(),e.YNc(24,ie,2,0,"small",65),e.qZA(),e.TgZ(25,"div",62)(26,"label",73),e._uU(27,"Ingresar fecha de recepcion"),e.qZA(),e.TgZ(28,"p-calendar",74),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.fecha_recepcion=o)}),e.qZA(),e.YNc(29,ne,2,0,"small",65),e.qZA(),e.TgZ(30,"div",62)(31,"label",75),e._uU(32,"Descripcion"),e.qZA(),e.TgZ(33,"textarea",76),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.descripcion=o)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.archivo.asunto)("ngClass",e.VKq(22,l,t.submitted&&!t.archivo.asunto)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.asunto),e.xp6(4),e.Q6J("options",t.estados)("ngModel",t.archivo.estado)("ngClass",e.VKq(24,l,t.submitted&&!t.archivo.estado)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.estado),e.xp6(4),e.Q6J("options",t.tiposDocs)("ngModel",t.archivo.id_tipo)("ngClass",e.VKq(26,l,t.submitted&&!t.archivo.id_tipo)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.id_tipo),e.xp6(4),e.Q6J("ngModel",t.archivo.cod_ref)("ngClass",e.VKq(28,l,t.submitted&&!t.archivo.cod_ref)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.cod_ref),e.xp6(4),e.Q6J("ngModel",t.archivo.fecha)("ngClass",e.VKq(30,l,t.submitted&&!t.archivo.fecha)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.fecha),e.xp6(4),e.Q6J("ngModel",t.archivo.fecha_recepcion)("ngClass",e.VKq(32,l,t.submitted&&!t.archivo.fecha_recepcion)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.fecha_recepcion),e.xp6(4),e.Q6J("ngModel",t.archivo.descripcion)("autoResize",!0)}}function ce(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.qZA(),e.TgZ(1,"button",79),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveArchivo())}),e.qZA()}}function re(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"El asunto es requerido."),e.qZA())}function se(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"El estado de documento es requerido"),e.qZA())}function le(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"El tipo de documento es requerido"),e.qZA())}function pe(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"Codigo de referencia es requerido."),e.qZA())}function de(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"La fecha es requerida."),e.qZA())}function he(i,c){1&i&&(e.TgZ(0,"small",77),e._uU(1,"La fecha de recepcion es requerida."),e.qZA())}function _e(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"label",63),e._uU(2,"Ingresar asunto"),e.qZA(),e.TgZ(3,"input",64),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.asunto=o)}),e.qZA(),e.YNc(4,re,2,0,"small",65),e.qZA(),e.TgZ(5,"div",62)(6,"label",66),e._uU(7,"Seleccionar tipo de documento"),e.qZA(),e.TgZ(8,"p-dropdown",67),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.estado=o)}),e.qZA(),e.YNc(9,se,2,0,"small",65),e.qZA(),e.TgZ(10,"div",62)(11,"label",66),e._uU(12,"Seleccionar tipo de documento"),e.qZA(),e.TgZ(13,"p-dropdown",68),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.id_tipo=o)}),e.qZA(),e.YNc(14,le,2,0,"small",65),e.qZA(),e.TgZ(15,"div",62)(16,"label",69),e._uU(17,"Ingresar codigo de referencia"),e.qZA(),e.TgZ(18,"input",70),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.cod_ref=o)}),e.qZA(),e.YNc(19,pe,2,0,"small",65),e.qZA(),e.TgZ(20,"div",62)(21,"label",71),e._uU(22,"Ingresar fecha del archivo"),e.qZA(),e.TgZ(23,"p-calendar",72),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.fecha=o)}),e.qZA(),e.YNc(24,de,2,0,"small",65),e.qZA(),e.TgZ(25,"div",62)(26,"label",73),e._uU(27,"Ingresar fecha de recepcion"),e.qZA(),e.TgZ(28,"p-calendar",74),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.fecha_recepcion=o)}),e.qZA(),e.YNc(29,he,2,0,"small",65),e.qZA(),e.TgZ(30,"div",62)(31,"label",75),e._uU(32,"Descripcion"),e.qZA(),e.TgZ(33,"textarea",76),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.archivo.descripcion=o)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.archivo.asunto)("ngClass",e.VKq(22,l,t.submitted&&!t.archivo.asunto)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.asunto),e.xp6(4),e.Q6J("options",t.estados)("ngModel",t.archivo.estado)("ngClass",e.VKq(24,l,t.submitted&&!t.archivos.estado)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.estado),e.xp6(4),e.Q6J("options",t.tiposDocs)("ngModel",t.archivo.id_tipo)("ngClass",e.VKq(26,l,t.submitted&&!t.archivo.id_tipo)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.id_tipo),e.xp6(4),e.Q6J("ngModel",t.archivo.cod_ref)("ngClass",e.VKq(28,l,t.submitted&&!t.archivo.cod_ref)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.cod_ref),e.xp6(4),e.Q6J("ngModel",t.archivo.fecha)("ngClass",e.VKq(30,l,t.submitted&&!t.archivo.fecha)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.fecha),e.xp6(4),e.Q6J("ngModel",t.archivo.fecha_recepcion)("ngClass",e.VKq(32,l,t.submitted&&!t.archivo.fecha_recepcion)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.archivo.fecha_recepcion),e.xp6(4),e.Q6J("ngModel",t.archivo.descripcion)("autoResize",!0)}}function ge(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideEditDialog())}),e.qZA(),e.TgZ(1,"button",79),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editBodyArchivo())}),e.qZA()}}function me(i,c){if(1&i&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.hij(" ",t.archivo.asunto," ")}}function ue(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deletearchivoDialog=!1)}),e.qZA(),e.TgZ(1,"button",81),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete())}),e.qZA()}}const ve=function(){return["id","asunto","estado","id_tipo","tipo","cod_ref","fecha","fecha_recepcion","descripcion","id_empleado"]},fe=function(){return[10,20,30]},M=function(){return{width:"450px"}};let Ae=(()=>{var i;class c{constructor(n,o,a){this.tiposService=n,this.archivosService=o,this.messageService=a,this.archivoDialog=!1,this.archivoEditDialog=!1,this.deleteArchivoDialog=!1,this.deleteArchivosDialog=!1,this.tiposDocs=[],this.archivos=[],this.archivo={},this.submitted=!1,this.estados=[],this.rowsPerPageOptions=[5,10,20],this.loading=!0,this.activityValues=[0,100]}ngOnInit(){this.getArchivos(),this.getTipos(),this.suscription=this.archivosService.refresh$.subscribe(()=>this.getArchivos()),this.items=[{label:"Documentos Administrativos"},{label:"Recibidos y Enviados"}],this.home={icon:"pi pi-home",routerLink:"/inicio"},this.loading=!1,this.cols=[{field:"id",header:"Id",customExportHeader:"Archivos Id"},{field:"asunto",header:"Asunto"},{field:"descripcion",header:"Descripcion"},{field:"estado",header:"Estado"},{field:"cod_ref",header:"Codigo de Referencia"},{field:"fecha",header:"De fecha"},{field:"fecha_recepcion",header:"Fecha de Recepcion"},{field:"id_tipo",header:"ID Tipo "},{field:"tipo",header:"Tipo "},{field:"id_empleado",header:"Empleado"}],this.estados=[{label:"RECIBIDO",value:"recibido"},{label:"ENVIADO",value:"enviado"},{label:"NO APLICA",value:"no_aplica"}],console.log(this.estados),this.exportColumns=this.cols.map(n=>({title:n.header,dataKey:n.field}))}getArchivos(){this.archivosService.getArchivos().then(n=>{this.archivos=n,this.archivos.forEach(o=>{o.fecha=new Date(o.fecha),o.fecha.setDate(o.fecha.getDate()+1)}),this.archivos.forEach(o=>{o.fecha_recepcion=new Date(o.fecha_recepcion),o.fecha_recepcion.setDate(o.fecha_recepcion.getDate()+1)})})}getTipos(){this.tiposService.getTiposDocs().then(n=>{this.tiposDocs=n.map(o=>({tipo:o.nombre,id_tipo:o.id}))})}ngOnDestroy(){this.suscription.unsubscribe()}clear(n){n.clear()}getSeverity(n){let o="";return"enviado"===n&&(o="success"),"recibido"===n&&(o="info"),"no_aplica"===n&&(o=null),o}openNew(){this.archivo={},this.submitted=!1,this.archivoDialog=!0}editArchivo(n){this.archivo={...n},this.archivoEditDialog=!0}deleteArchivo(n){this.deleteArchivoDialog=!0,this.archivo={...n}}confirmDelete(){const{id:n}=this.archivo;this.deleteArchivoDialog=!1,this.archivosService.deleteArchivo(n).subscribe(o=>{this.messageService.add(!0===o?{severity:"success",summary:"Exito",detail:"Archivo eliminado exitosamente",life:3e3}:{severity:"error",summary:"Error",detail:o,life:3e3})}),this.deleteArchivoDialog=!1,this.archivo={}}hideDialog(){this.archivoDialog=!1,this.submitted=!1}hideEditDialog(){this.archivoEditDialog=!1,this.submitted=!1}saveArchivo(){this.submitted=!0;const{asunto:n,estado:o,id_tipo:a,cod_ref:s,fecha:h,fecha_recepcion:_,descripcion:g}=this.archivo;this.archivo.cod_ref?.trim()&&(this.archivosService.createArchivo(n,o,a,s,h,_,g).subscribe(p=>{!0===p?(this.messageService.add({severity:"success",summary:"Exito",detail:"Archivo creado exitosamente",life:3e3}),this.archivoDialog=!1,this.archivo={}):this.messageService.add({severity:"error",summary:"Error",detail:p,life:3e3})}),this.archivos=[...this.archivos])}editBodyArchivo(){this.submitted=!0;const{id:n,asunto:o,estado:a,id_tipo:s,cod_ref:h,fecha:_,fecha_recepcion:g,descripcion:p}=this.archivo;this.archivo.cod_ref?.trim()&&(this.archivosService.updateArchivo(n,o,a,s,h,_,g,p).subscribe(u=>{!0===u?(this.messageService.add({severity:"success",summary:"Exito",detail:"Archivo actualizado exitosamente",life:3e3}),this.archivoEditDialog=!1,this.archivo={}):this.messageService.add({severity:"error",summary:"Error",detail:u,life:3e3})}),this.archivos=[...this.archivos])}onGlobalFilter(n,o){n.filterGlobal(o.target.value,"contains")}}return(i=c).\u0275fac=function(n){return new(n||i)(e.Y36(F.x),e.Y36(L),e.Y36(Z.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e._Bn([Z.ez])],decls:23,vars:27,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","loading","showCurrentPageReport","rowHover"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Crear nuevo documento",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Editar documento",1,"p-fluid",3,"visible","modal","visibleChange"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"max-w-full",3,"model","home"],["pButton","","pRipple","","label","Crear archivo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","id",2,"width","7%"],["field","id"],["pSortableColumn","asunto",2,"width","15%"],["field","asunto"],["pSortableColumn","estado",2,"width","10%"],["field","estado"],["pSortableColumn","id_tipo",2,"width","10%"],["field","id_tipo"],["pSortableColumn","cod_ref",2,"width","15%"],["field","cod_ref"],["pSortableColumn","fecha",2,"width","10%"],["field","fecha"],["pSortableColumn","fecha_recepcion",2,"width","10%"],["field","fecha_recepcion"],["pSortableColumn","descripcion",2,"width","15%"],["field","descripcion"],[2,"width","8%"],["type","text","field","asunto"],["field","estado","matchMode","equals",3,"showMenu"],["pTemplate","filter"],["field","id_tipo","matchMode","equals",3,"showMenu"],["type","text","field","cod_ref"],["type","date","field","fecha"],["type","date","field","fecha_recepcion"],["placeholder","Seleccionar...",3,"ngModel","options","showClear","onChange"],["pTemplate","item"],[3,"value","severity"],["placeholder","Seleccionar...","optionLabel","tipo","optionValue","id_tipo",3,"ngModel","options","onChange"],[1,"ml-1","mt-1"],[2,"width","1%","min-width","1rem"],[1,"p-column-title"],[2,"width","14%","min-width","10rem"],[2,"width","20%","min-width","15rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"field"],["for","asunto"],["type","text","pInputText","","id","nombre","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","id_tipo"],["id","id_tipo","optionLabel","label","optionValue","value","placeholder","Seleccionar estado de documento",3,"options","ngModel","ngClass","ngModelChange"],["id","id_tipo","optionLabel","tipo","optionValue","id_tipo","placeholder","Seleccionar tipo de documento",3,"options","ngModel","ngClass","ngModelChange"],["for","cod_ref"],["type","text","pInputText","","id","cod_ref","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","fecha"],["id","fecha","required","","autofocus","","dateFormat","dd/mm/yy",3,"ngModel","ngClass","ngModelChange"],["for","fecha_recepcion"],["id","fecha_recepcion","required","","autofocus","","dateFormat","dd/mm/yy",3,"ngModel","ngClass","ngModelChange"],["for","descripcion"],["id","descripcion","pInputTextarea","","required","","autofocus","","cols","20","rows","3",3,"ngModel","autoResize","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,$,1,2,"ng-template",4),e.YNc(6,V,1,0,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.YNc(9,j,6,0,"ng-template",8),e.YNc(10,P,45,2,"ng-template",9),e.YNc(11,W,43,23,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(s){return o.archivoDialog=s}),e.YNc(13,ae,34,34,"ng-template",12),e.YNc(14,ce,2,0,"ng-template",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(s){return o.archivoEditDialog=s}),e.YNc(16,_e,34,34,"ng-template",12),e.YNc(17,ge,2,0,"ng-template",13),e.qZA(),e.TgZ(18,"p-dialog",15),e.NdJ("visibleChange",function(s){return o.deleteArchivoDialog=s}),e.TgZ(19,"div",16),e._UZ(20,"i",17),e.YNc(21,me,5,1,"span",18),e.qZA(),e.YNc(22,ue,2,0,"ng-template",13),e.qZA()()()),2&n&&(e.xp6(7),e.Q6J("value",o.archivos)("columns",o.cols)("rows",10)("globalFilterFields",e.DdM(22,ve))("paginator",!0)("rowsPerPageOptions",e.DdM(23,fe))("loading",o.loading)("showCurrentPageReport",!0)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(24,M)),e.Q6J("visible",o.archivoDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(25,M)),e.Q6J("visible",o.archivoEditDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(26,M)),e.Q6J("visible",o.deleteArchivoDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",o.archivo))},dependencies:[m.mk,m.O5,f.iA,Z.jx,f.lQ,f.fz,f.xl,J.Hq,A.Fj,A.JJ,A.Q7,A.On,w.H,N.FN,y.o,D.o,I.g,E.Lt,K.V,S.a,Q.V,Y.f,m.gd,m.rS,m.uU],encapsulation:2}),c})(),Ze=(()=>{var i;class c{}return(i=c).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[U.Bz.forChild([{path:"",component:Ae}]),U.Bz]}),c})();var Ce=r(5006),xe=r(6022),Te=r(1865),be=r(354),Me=r(4055);let qe=(()=>{var i;class c{}return(i=c).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.ez,Ze,f.U$,Ce.O,A.u5,J.hJ,w.T,N.EV,y.V,xe.Xt,D.j,I.A,E.kW,Te.cc,be.L$,K.S,S.w,Q.W,Me.q4,Y._8]}),c})()}}]);