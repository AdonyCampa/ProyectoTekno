"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[132],{4898:(ne,h,s)=>{s.r(h),s.d(h,{JornadasModule:()=>ee});var u=s(6814),f=s(9140),_=s(5219),e=s(9291),M=s(6571),p=s(6361),J=s(707),c=s(6223),Z=s(4480),C=s(4104),x=s(6340),b=s(3714),T=s(6218),j=s(7213),v=s(2655);function q(t,r){if(1&t&&e._UZ(0,"p-breadcrumb",19),2&t){const n=e.oxw();e.Q6J("model",n.items)("home",n.home)}}function U(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.openNew())}),e.qZA()}}function N(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",21)(1,"h5",22),e._uU(2,"Jornadas registradas"),e.qZA(),e.TgZ(3,"span",23),e._UZ(4,"i",24),e.TgZ(5,"input",25),e.NdJ("input",function(a){e.CHM(n);const i=e.oxw(),l=e.MAs(8);return e.KtG(i.onGlobalFilter(l,a))}),e.qZA()()()}}function D(t,r){1&t&&(e.TgZ(0,"tr")(1,"th",26),e._uU(2," ID "),e._UZ(3,"p-sortIcon",27),e.qZA(),e.TgZ(4,"th",28),e._uU(5," Jornada "),e._UZ(6,"p-sortIcon",29),e.qZA(),e.TgZ(7,"th",30),e._uU(8," Hora de Inicio "),e._UZ(9,"p-sortIcon",31),e.qZA(),e.TgZ(10,"th",32),e._uU(11," Hora de Fin "),e._UZ(12,"p-sortIcon",33),e.qZA(),e.TgZ(13,"th",34),e._uU(14," Descripcion "),e._UZ(15,"p-sortIcon",35),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Acciones"),e.qZA()())}function y(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"tr")(1,"td",36)(2,"span",37),e._uU(3,"Id"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",36)(6,"span",37),e._uU(7,"Jornada"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td",36)(10,"span",37),e._uU(11,"Hora de Inicio"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"td",36)(14,"span",37),e._uU(15,"Hora de Fin"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"td",38)(18,"span",37),e._uU(19,"Descripcion"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"td")(22,"div",39)(23,"button",40),e.NdJ("click",function(){const i=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.editJornada(i))}),e.qZA(),e.TgZ(24,"button",41),e.NdJ("click",function(){const i=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.deleteJornada(i))}),e.qZA()()()()}if(2&t){const n=r.$implicit;e.xp6(4),e.hij(" ",n.id," "),e.xp6(4),e.hij(" ",n.nombre," "),e.xp6(4),e.hij(" ",n.hora_inicio," "),e.xp6(4),e.hij(" ",n.hora_fin," "),e.xp6(4),e.hij(" ",n.descripcion," ")}}function H(t,r){1&t&&(e.TgZ(0,"small",52),e._uU(1,"La jornada es requerida."),e.qZA())}function w(t,r){1&t&&(e.TgZ(0,"small",52),e._uU(1,"Hora de Inicio es requerida."),e.qZA())}function I(t,r){1&t&&(e.TgZ(0,"small",52),e._uU(1,"Hora de Fin es requerida."),e.qZA())}const d=function(t){return{"ng-invalid ng-dirty":t}};function F(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",42)(1,"label",43),e._uU(2,"Jornada"),e.qZA(),e.TgZ(3,"input",44),e.NdJ("ngModelChange",function(a){e.CHM(n);const i=e.oxw();return e.KtG(i.jornada.nombre=a)}),e.qZA(),e.YNc(4,H,2,0,"small",45),e.qZA(),e.TgZ(5,"div",42)(6,"label",46),e._uU(7,"Hora de Inicio"),e.qZA(),e.TgZ(8,"input",47),e.NdJ("ngModelChange",function(a){e.CHM(n);const i=e.oxw();return e.KtG(i.jornada.hora_inicio=a)}),e.qZA(),e.YNc(9,w,2,0,"small",45),e.qZA(),e.TgZ(10,"div",42)(11,"label",48),e._uU(12,"Hora de Fin"),e.qZA(),e.TgZ(13,"input",49),e.NdJ("ngModelChange",function(a){e.CHM(n);const i=e.oxw();return e.KtG(i.jornada.hora_fin=a)}),e.qZA(),e.YNc(14,I,2,0,"small",45),e.qZA(),e.TgZ(15,"div",42)(16,"label",50),e._uU(17,"Descripcion"),e.qZA(),e.TgZ(18,"textarea",51),e.NdJ("ngModelChange",function(a){e.CHM(n);const i=e.oxw();return e.KtG(i.jornada.descripcion=a)}),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.jornada.nombre)("ngClass",e.VKq(11,d,n.submitted&&!n.jornada.nombre)),e.xp6(1),e.Q6J("ngIf",n.submitted&&!n.jornada.nombre),e.xp6(4),e.Q6J("ngModel",n.jornada.hora_inicio)("ngClass",e.VKq(13,d,n.submitted&&!n.jornada.hora_inicio)),e.xp6(1),e.Q6J("ngIf",n.submitted&&!n.jornada.hora_inicio),e.xp6(4),e.Q6J("ngModel",n.jornada.hora_fin)("ngClass",e.VKq(15,d,n.submitted&&!n.jornada.hora_fin)),e.xp6(1),e.Q6J("ngIf",n.submitted&&!n.jornada.hora_fin),e.xp6(4),e.Q6J("ngModel",n.jornada.descripcion)("autoResize",!0)}}function E(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.hideDialog())}),e.qZA(),e.TgZ(1,"button",54),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.saveJornada())}),e.qZA()}}function K(t,r){1&t&&(e.TgZ(0,"small",52),e._uU(1,"La jornada es requerida."),e.qZA())}function G(t,r){1&t&&(e.TgZ(0,"small",52),e._uU(1,"Hora de Inicio es requerida."),e.qZA())}function Q(t,r){1&t&&(e.TgZ(0,"small",52),e._uU(1,"Hora de Fin es requerida."),e.qZA())}function S(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",42)(1,"label",43),e._uU(2,"Jornada"),e.qZA(),e.TgZ(3,"input",44),e.NdJ("ngModelChange",function(a){e.CHM(n);const i=e.oxw();return e.KtG(i.jornada.nombre=a)}),e.qZA(),e.YNc(4,K,2,0,"small",45),e.qZA(),e.TgZ(5,"div",42)(6,"label",46),e._uU(7,"Hora de Inicio"),e.qZA(),e.TgZ(8,"input",47),e.NdJ("ngModelChange",function(a){e.CHM(n);const i=e.oxw();return e.KtG(i.jornada.hora_inicio=a)}),e.qZA(),e.YNc(9,G,2,0,"small",45),e.qZA(),e.TgZ(10,"div",42)(11,"label",48),e._uU(12,"Hora de Fin"),e.qZA(),e.TgZ(13,"input",49),e.NdJ("ngModelChange",function(a){e.CHM(n);const i=e.oxw();return e.KtG(i.jornada.hora_fin=a)}),e.qZA(),e.YNc(14,Q,2,0,"small",45),e.qZA(),e.TgZ(15,"div",42)(16,"label",50),e._uU(17,"Descripcion"),e.qZA(),e.TgZ(18,"textarea",51),e.NdJ("ngModelChange",function(a){e.CHM(n);const i=e.oxw();return e.KtG(i.jornada.descripcion=a)}),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.jornada.nombre)("ngClass",e.VKq(11,d,n.submitted&&!n.jornada.nombre)),e.xp6(1),e.Q6J("ngIf",n.submitted&&!n.jornada.nombre),e.xp6(4),e.Q6J("ngModel",n.jornada.hora_inicio)("ngClass",e.VKq(13,d,n.submitted&&!n.jornada.hora_inicio)),e.xp6(1),e.Q6J("ngIf",n.submitted&&!n.jornada.hora_inicio),e.xp6(4),e.Q6J("ngModel",n.jornada.hora_fin)("ngClass",e.VKq(15,d,n.submitted&&!n.jornada.hora_fin)),e.xp6(1),e.Q6J("ngIf",n.submitted&&!n.jornada.hora_fin),e.xp6(4),e.Q6J("ngModel",n.jornada.descripcion)("autoResize",!0)}}function Y(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.hideEditDialog())}),e.qZA(),e.TgZ(1,"button",54),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.editBodyJornada())}),e.qZA()}}function R(t,r){if(1&t&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.hij(" ",n.jornada.nombre," ")}}function k(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.deleteJornadaDialog=!1)}),e.qZA(),e.TgZ(1,"button",56),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.confirmDelete())}),e.qZA()}}const B=function(){return["id","nombre","hora_inicio","hora_fin","descripcion"]},z=function(){return[10,20,30]},g=function(){return{width:"450px"}};let P=(()=>{var t;class r{constructor(o,a){this.jornadasService=o,this.messageService=a,this.jornadaDialog=!1,this.jornadaEditDialog=!1,this.deleteJornadaDialog=!1,this.deleteJornadasDialog=!1,this.jornadas=[],this.jornada={},this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.getJornadas(),this.suscription=this.jornadasService.refresh$.subscribe(()=>this.getJornadas()),this.items=[{label:"Ajustes"},{label:"Mantenimientos"},{label:"Empleados"},{label:"Jornadas"}],this.home={icon:"pi pi-home",routerLink:"/inicio"},this.cols=[{field:"id",header:"Id"},{field:"nombre",header:"Jornada"},{field:"hora_inicio",header:"Hora de Inicio"},{field:"hora_fin",header:"Hora de Fin"},{field:"descripcion",header:"Descripcion"}]}getJornadas(){this.jornadasService.getJornadas().then(o=>this.jornadas=o)}ngOnDestroy(){this.suscription.unsubscribe()}openNew(){this.jornada={},this.submitted=!1,this.jornadaDialog=!0}editJornada(o){this.jornada={...o},this.jornadaEditDialog=!0}deleteJornada(o){this.deleteJornadaDialog=!0,this.jornada={...o}}confirmDelete(){const{id:o}=this.jornada;this.deleteJornadaDialog=!1,this.jornadasService.deleteJornada(o).subscribe(a=>{this.messageService.add(!0===a?{severity:"success",summary:"Exito",detail:"Jornada eliminada exitosamente",life:3e3}:{severity:"error",summary:"Error",detail:a,life:3e3})}),this.deleteJornadaDialog=!1,this.jornada={}}hideDialog(){this.jornadaDialog=!1,this.submitted=!1}hideEditDialog(){this.jornadaEditDialog=!1,this.submitted=!1}saveJornada(){this.submitted=!0;const{nombre:o,hora_inicio:a,hora_fin:i,descripcion:l}=this.jornada;this.jornada.nombre?.trim()&&(this.jornadasService.createJornada(o,a,i,l).subscribe(m=>{!0===m?(this.messageService.add({severity:"success",summary:"Exito",detail:"Jornada creada exitosamente",life:3e3}),this.jornadaDialog=!1,this.jornada={}):this.messageService.add({severity:"error",summary:"Error",detail:m,life:3e3})}),this.jornadas=[...this.jornadas])}editBodyJornada(){this.submitted=!0;const{id:o,nombre:a,hora_inicio:i,hora_fin:l,descripcion:m}=this.jornada;this.jornada.nombre?.trim()&&(this.jornadasService.updateJornada(o,a,i,l,m).subscribe(A=>{!0===A?(this.messageService.add({severity:"success",summary:"Exito",detail:"Jornada actualizada exitosamente",life:3e3}),this.jornadaEditDialog=!1,this.jornada={}):this.messageService.add({severity:"error",summary:"Error",detail:A,life:3e3})}),this.jornadas=[...this.jornadas])}onGlobalFilter(o,a){o.filterGlobal(a.target.value,"contains")}}return(t=r).\u0275fac=function(o){return new(o||t)(e.Y36(M.l),e.Y36(_.ez))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],features:[e._Bn([_.ez])],decls:23,vars:26,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Crear nueva Jornada",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Editar jornada seleccionada",1,"p-fluid",3,"visible","modal","visibleChange"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"max-w-full",3,"model","home"],["pButton","","pRipple","","label","Crear Jornada","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","id"],["field","id"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","hora_inicio"],["field","hora_inicio"],["pSortableColumn","hora_fin"],["field","hora_fin"],["pSortableColumn","descripcion"],["field","descripcion"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","8rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"field"],["for","jornada"],["type","text","pInputText","","id","nombre","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","hora_inicio"],["type","text","pInputText","","id","hora_inicio","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","hora_fin"],["type","text","pInputText","","id","hora_fin","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","descripcion"],["id","descripcion","pInputTextarea","","required","","autofocus","","cols","20","rows","3",3,"ngModel","autoResize","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,q,1,2,"ng-template",4),e.YNc(6,U,1,0,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.YNc(9,N,6,0,"ng-template",8),e.YNc(10,D,18,0,"ng-template",9),e.YNc(11,y,25,5,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(l){return a.jornadaDialog=l}),e.YNc(13,F,19,17,"ng-template",12),e.YNc(14,E,2,0,"ng-template",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(l){return a.jornadaEditDialog=l}),e.YNc(16,S,19,17,"ng-template",12),e.YNc(17,Y,2,0,"ng-template",13),e.qZA(),e.TgZ(18,"p-dialog",15),e.NdJ("visibleChange",function(l){return a.deleteJornadaDialog=l}),e.TgZ(19,"div",16),e._UZ(20,"i",17),e.YNc(21,R,5,1,"span",18),e.qZA(),e.YNc(22,k,2,0,"ng-template",13),e.qZA()()()),2&o&&(e.xp6(7),e.Q6J("value",a.jornadas)("columns",a.cols)("rows",10)("globalFilterFields",e.DdM(21,B))("paginator",!0)("rowsPerPageOptions",e.DdM(22,z))("showCurrentPageReport",!0)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(23,g)),e.Q6J("visible",a.jornadaDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(24,g)),e.Q6J("visible",a.jornadaEditDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(25,g)),e.Q6J("visible",a.deleteJornadaDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",a.jornada))},dependencies:[u.mk,u.O5,p.iA,_.jx,p.lQ,p.fz,J.Hq,c.Fj,c.JJ,c.Q7,c.On,Z.H,C.FN,x.o,b.o,T.g,j.V,v.a],encapsulation:2}),r})(),V=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.Bz.forChild([{path:"",component:P}]),f.Bz]}),r})();var O=s(5006),$=s(6022),L=s(3965),X=s(1865),W=s(354);let ee=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,V,p.U$,O.O,c.u5,J.hJ,Z.T,C.EV,x.V,$.Xt,b.j,T.A,L.kW,X.cc,W.L$,j.S,v.w]}),r})()}}]);