"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[91],{1091:(P,d,r)=>{r.r(d),r.d(d,{RenglonesModule:()=>z});var c=r(6814),_=r(9140),m=r(5219),e=r(9291),A=r(4130),p=r(6361),f=r(707),g=r(6223),h=r(4480),b=r(4104),R=r(6340),x=r(3714),C=r(6218),Z=r(7213),T=r(2655);function M(n,i){if(1&n&&e._UZ(0,"p-breadcrumb",19),2&n){const t=e.oxw();e.Q6J("model",t.items)("home",t.home)}}function D(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openNew())}),e.qZA()}}function y(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"h5",22),e._uU(2,"Renglones registrados"),e.qZA(),e.TgZ(3,"span",23),e._UZ(4,"i",24),e.TgZ(5,"input",25),e.NdJ("input",function(o){e.CHM(t);const s=e.oxw(),a=e.MAs(8);return e.KtG(s.onGlobalFilter(a,o))}),e.qZA()()()}}function J(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",26),e._uU(2," ID "),e._UZ(3,"p-sortIcon",27),e.qZA(),e.TgZ(4,"th",28),e._uU(5," Renglon Presupuestario "),e._UZ(6,"p-sortIcon",29),e.qZA(),e.TgZ(7,"th",30),e._uU(8," Descripcion "),e._UZ(9,"p-sortIcon",31),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Acciones"),e.qZA()())}function N(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",32)(2,"span",33),e._uU(3,"Id"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",32)(6,"span",33),e._uU(7,"Renglon Presupuestario"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td",34)(10,"span",33),e._uU(11,"Descripcion"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",35)(15,"button",36),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editRenglon(s))}),e.qZA(),e.TgZ(16,"button",37),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteRenglon(s))}),e.qZA()()()()}if(2&n){const t=i.$implicit;e.xp6(4),e.hij(" ",t.id," "),e.xp6(4),e.hij(" ",t.nombre," "),e.xp6(4),e.hij(" ",t.descripcion," ")}}function q(n,i){1&n&&(e.TgZ(0,"small",44),e._uU(1,"Renglon presupuestario es requerido."),e.qZA())}const v=function(n){return{"ng-invalid ng-dirty":n}};function w(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"label",39),e._uU(2,"Renglon presupuestario"),e.qZA(),e.TgZ(3,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.renglon.nombre=o)}),e.qZA(),e.YNc(4,q,2,0,"small",41),e.qZA(),e.TgZ(5,"div",38)(6,"label",42),e._uU(7,"Descripcion"),e.qZA(),e.TgZ(8,"textarea",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.renglon.descripcion=o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.renglon.nombre)("ngClass",e.VKq(5,v,t.submitted&&!t.renglon.nombre)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.renglon.nombre),e.xp6(4),e.Q6J("ngModel",t.renglon.descripcion)("autoResize",!0)}}function U(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.qZA(),e.TgZ(1,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveRenglon())}),e.qZA()}}function E(n,i){1&n&&(e.TgZ(0,"small",44),e._uU(1,"Renglon presupuestario es requerido."),e.qZA())}function F(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"label",39),e._uU(2,"Renglon presupuestario"),e.qZA(),e.TgZ(3,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.renglon.nombre=o)}),e.qZA(),e.YNc(4,E,2,0,"small",41),e.qZA(),e.TgZ(5,"div",38)(6,"label",42),e._uU(7,"Descripcion"),e.qZA(),e.TgZ(8,"textarea",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.renglon.descripcion=o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.renglon.nombre)("ngClass",e.VKq(5,v,t.submitted&&!t.renglon.nombre)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.renglon.nombre),e.xp6(4),e.Q6J("ngModel",t.renglon.descripcion)("autoResize",!0)}}function S(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideEditDialog())}),e.qZA(),e.TgZ(1,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editBodyRenglon())}),e.qZA()}}function G(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.renglon.nombre,"")}}function H(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteRenglonDialog=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete())}),e.qZA()}}const k=function(){return["id","nombre","descripcion"]},K=function(){return[10,20,30]},u=function(){return{width:"450px"}};let Y=(()=>{var n;class i{constructor(l,o){this.renglonesService=l,this.messageService=o,this.renglonDialog=!1,this.renglonEditDialog=!1,this.deleteRenglonDialog=!1,this.deleteRenglonsDialog=!1,this.renglones=[],this.renglon={},this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.getRenglones(),this.suscription=this.renglonesService.refresh$.subscribe(()=>this.getRenglones()),this.items=[{label:"Ajustes"},{label:"Mantenimientos"},{label:"Empleados"},{label:"Renglones"}],this.home={icon:"pi pi-home",routerLink:"/inicio"},this.cols=[{field:"id",header:"Id"},{field:"renglon",header:"renglon"},{field:"descripcion",header:"Descripcion"}]}getRenglones(){this.renglonesService.getRenglones().then(l=>this.renglones=l)}ngOnDestroy(){this.suscription.unsubscribe()}openNew(){this.renglon={},this.submitted=!1,this.renglonDialog=!0}editRenglon(l){this.renglon={...l},this.renglonEditDialog=!0}deleteRenglon(l){this.deleteRenglonDialog=!0,this.renglon={...l}}confirmDelete(){const{id:l}=this.renglon;this.deleteRenglonDialog=!1,this.renglonesService.deleteRenglon(l).subscribe(o=>{this.messageService.add(!0===o?{severity:"success",summary:"Exito",detail:"Renglon eliminado exitosamente",life:3e3}:{severity:"error",summary:"Error",detail:o,life:3e3})}),this.deleteRenglonDialog=!1,this.renglon={}}hideDialog(){this.renglonDialog=!1,this.submitted=!1}hideEditDialog(){this.renglonEditDialog=!1,this.submitted=!1}saveRenglon(){this.submitted=!0;const{nombre:l,descripcion:o}=this.renglon;this.renglon.nombre?.trim()&&(this.renglonesService.createRenglon(l,o).subscribe(s=>{!0===s?(this.messageService.add({severity:"success",summary:"Exito",detail:"Renglon creado exitosamente",life:3e3}),this.renglonDialog=!1,this.renglon={}):this.messageService.add({severity:"error",summary:"Error",detail:s,life:3e3})}),this.renglones=[...this.renglones])}editBodyRenglon(){this.submitted=!0;const{id:l,nombre:o,descripcion:s}=this.renglon;this.renglon.nombre?.trim()&&(this.renglonesService.updateRenglon(l,o,s).subscribe(a=>{!0===a?(this.messageService.add({severity:"success",summary:"Exito",detail:"Renglone actualizado exitosamente",life:3e3}),this.renglonEditDialog=!1,this.renglon={}):this.messageService.add({severity:"error",summary:"Error",detail:a,life:3e3})}),this.renglones=[...this.renglones])}onGlobalFilter(l,o){l.filterGlobal(o.target.value,"contains")}}return(n=i).\u0275fac=function(l){return new(l||n)(e.Y36(A.o),e.Y36(m.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([m.ez])],decls:23,vars:26,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Crear nuevo renglon presupuestario",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Editar renglon presupuestario",1,"p-fluid",3,"visible","modal","visibleChange"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"max-w-full",3,"model","home"],["pButton","","pRipple","","label","Crear Renglon","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","id"],["field","id"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","descripcion"],["field","descripcion"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","8rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"field"],["for","renglon"],["type","text","pInputText","","id","nombre","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","descripcion"],["id","descripcion","pInputTextarea","","required","","autofocus","","cols","20","rows","3",3,"ngModel","autoResize","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(l,o){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,M,1,2,"ng-template",4),e.YNc(6,D,1,0,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.YNc(9,y,6,0,"ng-template",8),e.YNc(10,J,12,0,"ng-template",9),e.YNc(11,N,17,3,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.renglonDialog=a}),e.YNc(13,w,9,7,"ng-template",12),e.YNc(14,U,2,0,"ng-template",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(a){return o.renglonEditDialog=a}),e.YNc(16,F,9,7,"ng-template",12),e.YNc(17,S,2,0,"ng-template",13),e.qZA(),e.TgZ(18,"p-dialog",15),e.NdJ("visibleChange",function(a){return o.deleteRenglonDialog=a}),e.TgZ(19,"div",16),e._UZ(20,"i",17),e.YNc(21,G,5,1,"span",18),e.qZA(),e.YNc(22,H,2,0,"ng-template",13),e.qZA()()()),2&l&&(e.xp6(7),e.Q6J("value",o.renglones)("columns",o.cols)("rows",10)("globalFilterFields",e.DdM(21,k))("paginator",!0)("rowsPerPageOptions",e.DdM(22,K))("showCurrentPageReport",!0)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(23,u)),e.Q6J("visible",o.renglonDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(24,u)),e.Q6J("visible",o.renglonEditDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(25,u)),e.Q6J("visible",o.deleteRenglonDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",o.renglon))},dependencies:[c.mk,c.O5,p.iA,m.jx,p.lQ,p.fz,f.Hq,g.Fj,g.JJ,g.Q7,g.On,h.H,b.FN,R.o,x.o,C.g,Z.V,T.a],encapsulation:2}),i})(),B=(()=>{var n;class i{}return(n=i).\u0275fac=function(l){return new(l||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild([{path:"",component:Y}]),_.Bz]}),i})();var I=r(5006),Q=r(6022),j=r(354);let z=(()=>{var n;class i{}return(n=i).\u0275fac=function(l){return new(l||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,B,p.U$,I.O,g.u5,f.hJ,h.T,b.EV,R.V,Q.Xt,x.j,C.A,j.L$,Z.S,T.w]}),i})()}}]);